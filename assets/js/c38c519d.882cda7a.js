"use strict";(self.webpackChunkdocs_reservebtc_io=self.webpackChunkdocs_reservebtc_io||[]).push([[847],{7684:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"smart-contract/oracle","title":"\ud83d\udef0\ufe0f Oracle Integration","description":"Chainlink oracle powers the off-chain BTC verification process for minting and burning rBTC-SYNTH.","source":"@site/docs/smart-contract/oracle.md","sourceDirName":"smart-contract","slug":"/smart-contract/oracle","permalink":"/smart-contract/oracle","draft":false,"unlisted":false,"editUrl":"https://github.com/reservebtc/docs.reservebtc.io/edit/main/docs/smart-contract/oracle.md","tags":[],"version":"current","frontMatter":{"title":"\ud83d\udef0\ufe0f Oracle Integration","slug":"/smart-contract/oracle","sidebar_label":"Oracle Verification","description":"Chainlink oracle powers the off-chain BTC verification process for minting and burning rBTC-SYNTH."},"sidebar":"tutorialSidebar","previous":{"title":"Burning","permalink":"/smart-contract/burning"},"next":{"title":"Security Checklist","permalink":"/smart-contract/security"}}');var i=n(4848),s=n(8453);const c={title:"\ud83d\udef0\ufe0f Oracle Integration",slug:"/smart-contract/oracle",sidebar_label:"Oracle Verification",description:"Chainlink oracle powers the off-chain BTC verification process for minting and burning rBTC-SYNTH."},l="\ud83d\udd17 Chainlink Oracle Integration",a={},o=[{value:"\ud83d\udce1 Role of the Oracle",id:"-role-of-the-oracle",level:2},{value:"\ud83e\udde0 Oracle Responsibilities",id:"-oracle-responsibilities",level:2},{value:"\ud83d\udd01 Trigger Events",id:"-trigger-events",level:2},{value:"\ud83d\udee0\ufe0f Infrastructure",id:"\ufe0f-infrastructure",level:2},{value:"\u2705 Trust Model",id:"-trust-model",level:2},{value:"\ud83d\udee0\ufe0f Next:",id:"\ufe0f-next",level:2}];function d(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"-chainlink-oracle-integration",children:"\ud83d\udd17 Chainlink Oracle Integration"})}),"\n",(0,i.jsx)(r.p,{children:"ReserveBTC uses a custom Chainlink External Adapter to relay off-chain Bitcoin reserve proofs into Ethereum smart contracts."}),"\n",(0,i.jsx)(r.h2,{id:"-role-of-the-oracle",children:"\ud83d\udce1 Role of the Oracle"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Acts as a ",(0,i.jsx)(r.strong,{children:"bridge"})," between BTC verification (off-chain) and mint/burn logic (on-chain)."]}),"\n",(0,i.jsxs)(r.li,{children:["Ensures the smart contract remains ",(0,i.jsx)(r.strong,{children:"trustless"})," and ",(0,i.jsx)(r.strong,{children:"autonomous"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:["Pulls data from ReserveBTC backend and passes it to ",(0,i.jsx)(r.code,{children:"rBTC-SYNTH"})," contract."]}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"-oracle-responsibilities",children:"\ud83e\udde0 Oracle Responsibilities"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Monitor verified BTC addresses from ReserveBTC database."}),"\n",(0,i.jsx)(r.li,{children:"Check balances via ElectrumX / Blockstream API every 20 seconds."}),"\n",(0,i.jsx)(r.li,{children:"Compare historical balance with current balance."}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"-trigger-events",children:"\ud83d\udd01 Trigger Events"}),"\n",(0,i.jsx)(r.p,{children:"The Oracle triggers the following smart contract function:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-solidity",children:"function reportVerifiedBalance(address ethAddress, uint256 amountBtc) external onlyOracle {\n  // Mint or burn logic inside\n}\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Mint tokens if it\u2019s the user\u2019s first verified BTC deposit."}),"\n",(0,i.jsx)(r.li,{children:"Add tokens if BTC amount increases."}),"\n",(0,i.jsx)(r.li,{children:"Burn tokens if BTC is withdrawn."}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"\ufe0f-infrastructure",children:"\ud83d\udee0\ufe0f Infrastructure"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Component"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Chainlink External Adapter"}),(0,i.jsx)(r.td,{children:"Docker-based API relay from backend to EVM"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Supabase"}),(0,i.jsx)(r.td,{children:"Stores form data and verification states"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Node.js Script"}),(0,i.jsx)(r.td,{children:"Periodically checks BTC reserves"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Chainlink Oracle Node"}),(0,i.jsxs)(r.td,{children:["Calls ",(0,i.jsx)(r.code,{children:"reportVerifiedBalance()"})]})]})]})]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"-trust-model",children:"\u2705 Trust Model"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Oracle is whitelisted in the contract (",(0,i.jsx)(r.code,{children:"onlyOracle"})," modifier)."]}),"\n",(0,i.jsx)(r.li,{children:"Cannot call mint/burn arbitrarily \u2014 relies on deterministic BTC state."}),"\n",(0,i.jsxs)(r.li,{children:["Oracle address is ",(0,i.jsx)(r.strong,{children:"fixed"})," and ",(0,i.jsx)(r.strong,{children:"immutable"}),"."]}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"\ufe0f-next",children:"\ud83d\udee0\ufe0f Next:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/smart-contract/minting",children:"Minting Logic"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/smart-contract/burning",children:"Burning Mechanism"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/smart-contract/security",children:"Security Checklist"})}),"\n"]}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"Verified by code. Delivered by oracle. Powered by Bitcoin."}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>l});var t=n(6540);const i={},s=t.createContext(i);function c(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);